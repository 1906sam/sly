(function(c,L){function ea(h,b){var T,g,u,r,fa,m,M;function v(a,ga,ha){if(A&&(!ga||ha)){var h=K(a);H?(a=k[h.centerItem].offCenter,E&&f.activate(h.centerItem,1)):a>d.min&&a<d.max&&(a=k[h.firstItem].offStart)}"slidee"===ga&&b.elasticBounds&&!ha?a>d.max?a=d.max+(a-d.max)/6:a<d.min&&(a=d.min+(a-d.min)/6):a=F(a,d.min,d.max);T=+new Date;g=0;u=d.cur;r=a;fa=a-d.cur;M=(m=ga)&&!ha;d.dest=a;!M&&!I&&f.cycle();c.extend(e,K(void 0));ba();U[0]&&G.page!==e.activePage&&(G.page=e.activePage,U.removeClass(b.activeClass).eq(e.activePage).addClass(b.activeClass));
a!==d.cur&&!V&&B()}function B(){V?((M?"slidee"===m:33>b.speed)?d.cur=r:M&&"handle"===m?d.cur+=(r-d.cur)*b.syncFactor:(g=Math.min(+new Date-T,b.speed),d.cur=u+fa*jQuery.easing[b.easing](g/b.speed,g,0,1,b.speed)),r===Math.round(d.cur)&&(M||g>=b.speed)?(d.cur=d.dest,V=0,m||p.trigger(s+":moveEnd",[d,q,e])):V=ca(B),p.trigger(s+":move",[d,q,e]),N?j[0].style[N]=(b.horizontal?"translateX":"translateY")+"("+-d.cur+"px)":j[0].style[b.horizontal?"left":"top"]=-Math.round(d.cur)+"px",y&&(t.cur=d.min===d.max?
0:(("handle"===m?d.dest:d.cur)-d.min)/(d.max-d.min)*t.max,t.cur=F(Math.round(t.cur),t.min,t.max),G.hPos!==t.cur&&(G.hPos=t.cur,N?y[0].style[N]=(b.horizontal?"translateX":"translateY")+"("+t.cur+"px)":y[0].style[b.horizontal?"left":"top"]=t.cur+"px"))):(V=ca(B),m||p.trigger(s+":moveStart",[d,q,e]))}function W(a){return X(a)?F(a,0,k.length-1):a===L?-1:q.index(a)}function O(a,b){return parseInt(a.css(b),10)}function K(a){a=F(X(a)?a:d.dest,d.min,d.max);for(var b={},e=E?0:z/2,c=0,h=x.length;c<h;c++){if(a>=
d.max||c===x.length-1){b.activePage=x.length-1;break}if(a<=x[c]+e){b.activePage=c;break}}if(A){for(var h=c=e=!1,f=0,j=k.length;f<j;f++){!1===e&&a<=k[f].offStart&&(e=f);!1===h&&a-k[f].size/2<=k[f].offCenter&&(h=f);if(f===k.length-1||!1===c&&a<k[f+1].offEnd)c=f;if(!1!==c)break}b.firstItem=X(e)?e:0;b.centerItem=X(h)?h:b.firstItem;b.lastItem=X(c)?c:b.centerItem}return b}function ba(){if(A){var a=0===e.activeItem,c=e.activeItem>=k.length-1,f=a?"first":c?"last":"middle";G.itemsButtonState!==f&&(G.itemsButtonState=
f,P.is("button,input")&&P.prop("disabled",a),Q.is("button,input")&&Q.prop("disabled",c),P[a?"removeClass":"addClass"](b.disabledClass),Q[c?"removeClass":"addClass"](b.disabledClass))}U[0]&&(a=d.dest<=d.min,c=d.dest>=d.max,f=a?"first":c?"last":"middle",G.pagesButtonState!==f&&(G.pagesButtonState=f,Y.is("button,input")&&Y.prop("disabled",a),Z.is("button,input")&&Z.prop("disabled",c),Y[a?"removeClass":"addClass"](b.disabledClass),Z[c?"removeClass":"addClass"](b.disabledClass)))}function ia(a){return Math.round(F(a,
t.min,t.max)/t.max*(d.max-d.min))+d.min}function w(a,b){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;b&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}var f=this,p=c(h),j=p.children().eq(0),z=0,n=0,d={cur:0,dest:0,max:0,min:0},C=c(b.scrollBar).eq(0),y=C.length?C.children().eq(0):0,$=0,J=0,t={cur:0,max:0,min:0},R=c(b.pagesBar),U=0,x=[],ja="smart"===b.itemNav,E="forceCentered"===b.itemNav,H="centered"===b.itemNav||E,A="basic"===b.itemNav||ja||H||E,S=c(document),
q=0,k=[],e={firstItem:0,lastItem:1,centerItem:1,activeItem:-1,activePage:0,items:0,pages:0},ka=b.scrollSource?c(b.scrollSource):p,ea=b.dragSource?c(b.dragSource):p,P=c(b.prev),Q=c(b.next),Y=c(b.prevPage),Z=c(b.nextPage),G={};M=m=fa=r=u=g=T=void 0;var V=0,D=0,I=0,aa=0,ma=this.reload=function(){var a=0,h=c.extend({},d);z=b.horizontal?p.width():p.height();$=b.horizontal?C.width():C.height();n=b.horizontal?j.outerWidth():j.outerHeight();d.min=0;d.max=Math.max(n-z,0);G={};if(A){q=j.children(":visible");
e.items=q.length;k=[];x=[];var l=O(j,b.horizontal?"paddingLeft":"paddingTop"),T=O(j,b.horizontal?"paddingRight":"paddingBottom"),g=O(q,b.horizontal?"marginLeft":"marginTop"),m=O(q.slice(-1),b.horizontal?"marginRight":"marginBottom"),w=0,u="none"!==q.css("float"),a=g?0:m;n=0;q.each(function(a,d){var e=c(d),f=e[b.horizontal?"outerWidth":"outerHeight"](!0),h=O(e,b.horizontal?"marginLeft":"marginTop"),e=O(e,b.horizontal?"marginRight":"marginBottom"),j={size:f,offStart:n-(!a||b.horizontal?0:h),offCenter:n-
Math.round(z/2-f/2),offEnd:n-z+f-(g?0:e)};a||(w=-(E?Math.round(z/2-f/2):0)+l,n+=l);n+=f;!b.horizontal&&!u&&e&&(h&&0<a)&&(n-=Math.min(h,e));a===q.length-1&&(n+=T);k.push(j)});j[0].style[b.horizontal?"width":"height"]=n+"px";n-=a;d.min=w;d.max=E?k[k.length-1].offCenter:Math.max(n-z,0);e.activeItem>=k.length?f.activate(k.length-1):1===k.length&&q.eq(e.activeItem).addClass(b.activeClass)}c.extend(e,K(void 0));y&&(J=b.dynamicHandle?Math.round($*z/n):y[b.horizontal?"outerWidth":"outerHeight"](),b.dynamicHandle&&
(J=F(J,b.minHandleSize,$),y[0].style[b.horizontal?"width":"height"]=J+"px"),t.max=$-J);var r=0,m="",D=0;if(E)x=c.map(k,function(a){return a.offCenter});else for(;r-z<d.max;){var B=Math.min(d.max,r);x.push(B);r+=z;if(r>d.max&&A&&d.max-B<(k[k.length-1].size-a)/2){x[x.length-1]=d.max;break}}if(R[0]){for(a=0;a<x.length;a++)m+=b.pageBuilder(D++);U=c(m).appendTo(R.empty())}v(F(d.dest,d.min,d.max));e.pages=x.length;e.slideeSize=n;e.frameSize=z;e.sbSize=$;e.handleSize=J;p.trigger(s+":load",[c.extend({},d,
{old:h}),q,e])};this.prev=function(){f.activate(e.activeItem-1)};this.next=function(){f.activate(e.activeItem+1)};this.prevPage=function(){f.activatePage(e.activePage-1)};this.nextPage=function(){f.activatePage(e.activePage+1)};this.toStart=function(a){a===L?v(d.min):A?(a=W(a),-1!==a&&!H&&v(k[a].offStart)):(a=j.find(a).eq(0),c.contains(j[0],a[0])&&v(b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top))};this.toEnd=function(a){if(a===L)v(d.max);else if(A)a=W(a),-1!==a&&!H&&v(k[a].offEnd);
else if(a=j.find(a).eq(0),c.contains(j[0],a[0])){var e=b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;v(e-z+a[b.horizontal?"outerWidth":"outerHeight"]())}};this.toCenter=function(a){if(a===L)v(Math.round(d.max/2+d.min/2));else if(A)a=W(a),-1!==a&&v(k[a].offCenter);else if(a=j.find(a).eq(0),a[0]){var e=b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;v(e-z/2+a[b.horizontal?"outerWidth":"outerHeight"]()/2)}};this.activate=function(a,d){if(A&&a!==
L){var c=W(a),h=e.activeItem;e.activeItem=c;q.removeClass(b.activeClass).eq(c).addClass(b.activeClass);ba();c!==h&&p.trigger(s+":active",[q.eq(c)]);d||(H?f.toCenter(c):ja&&(c>=e.lastItem?f.toStart(c):c<=e.firstItem?f.toEnd(c):f.cycle()))}};this.activatePage=function(a){a=F(a,0,x.length-1);v(x[a])};this.cycle=function(a){if(b.cycleBy&&b.cycleInterval&&!("items"===b.cycleBy&&!k[0]||a&&I))I=0,D?D=clearTimeout(D):p.trigger(s+":cycleStart",[d,q,e]),D=setTimeout(function(){switch(b.cycleBy){case "items":f.activate(e.activeItem>=
k.length-1?0:e.activeItem+1);break;case "pages":f.activatePage(e.activePage>=x.length-1?0:e.activePage+1)}p.trigger(s+":cycle",[d,q,e])},b.cycleInterval)};this.pause=function(a){a||(I=!0);D&&(D=clearTimeout(D),p.trigger(s+":cyclePause",[d,q,e]))};this.toggle=function(){f[D?"pause":"cycle"]()};this.set=function(a,d){c.isPlainObject(a)?c.extend(b,a):b.hasOwnProperty(a)&&(b[a]=d)};this.destroy=function(){p.add(S).add(j).add(ka).add(y).add(R).add(P).add(Q).add(Y).add(Z).unbind("."+l);j.add(y).css(b.horizontal?
"left":"top",0);P.add(Q).removeClass(b.disabledClass);R.empty();c.removeData(h,l)};var da="mousemove."+l+" mouseup."+l;b=c.extend({},c.fn[s].defaults,b);p.css("overflow","hidden");"static"===p.css("position")&&p.css("position","relative");"static"===C.css("position")&&C.css("position","relative");j.add(y).css(c.extend({position:"absolute"},b.horizontal?{left:0}:{top:0}));ma();A?f.activate(b.startAt):v(b.startAt);b.scrollBy&&ka.bind("DOMMouseScroll."+l+" mousewheel."+l,function(a){if(d.min!==d.max){w(a,
1);a=a.originalEvent;var c=0;a.wheelDelta&&(c=0>a.wheelDelta/120);a.detail&&(c=0>-a.detail/3);A?(a=W((H?E?e.activeItem:e.centerItem:e.firstItem)+(c?b.scrollBy:-b.scrollBy)),f[H?E?"activate":"toCenter":"toStart"](a)):v(d.dest+(c?b.scrollBy:-b.scrollBy))}});if(b.clickBar&&C[0])C.on("click."+l,function(a){1===a.which&&(w(a),v(ia((b.horizontal?a.clientX-C.offset().left:a.clientY-C.offset().top)-J/2)))});b.keyboardNav&&S.bind("keydown."+l,function(a){switch(a.which){case b.horizontal?37:38:w(a);f[b.keyboardNavByPages?
"prevPage":"prev"]();break;case b.horizontal?39:40:w(a),f[b.keyboardNavByPages?"nextPage":"next"]()}});if(b.prev)P.on("click."+l,function(a){w(a);f.prev()});if(b.next)Q.on("click."+l,function(a){w(a);f.next()});if(b.prevPage)Y.on("click."+l,function(a){w(a);f.prevPage()});if(b.nextPage)Z.on("click."+l,function(a){w(a);f.nextPage()});j.on("click."+l,"*",function(a){1===a.which&&(a.target.parentNode===a.delegateTarget&&!aa)&&f.activate(this);aa=0});if(R[0])R.on("click."+l,"*",function(){f.activatePage(U.index(this))});
if(b.dragContent)ea.on("mousedown."+l,function(a){if(1===a.which){w(a);var h=b.horizontal?a.clientX:a.clientY,k=d.cur,l=+new Date,m=c(a.target),n=0;j.addClass(b.draggedClass);S.on(da,function(a){var c="mouseup"===a.type,g=(b.horizontal?a.clientX:a.clientY)-h;!n&&10<Math.abs(g)&&(aa=n=1,f.pause(!I),m.on("click",function la(a){w(a,1);aa=0;m.off("click",la)}),p.trigger(s+":moveStart",[d,q,e,"slidee"]));n&&(w(a),c&&33<b.speed&&(g+=200*g/(+new Date-l)),v(Math.round(k-g),"slidee",c));c&&(aa=0,S.off(da),
j.removeClass(b.draggedClass),p.trigger(s+":moveEnd",[d,q,e,"slidee"]))})}});if(y&&b.dragHandle)y.on("mousedown."+l,function(a){if(1===a.which){w(a);var c=b.horizontal?a.clientX:a.clientY,h=t.cur,j=-t.cur,k=t.max-t.cur;y.addClass(b.draggedClass);p.trigger(s+":moveStart",[d,q,e,"scrollbar"]);f.pause(!I);S.on(da,function(a){w(a);var f=F((b.horizontal?a.clientX:a.clientY)-c,j,k);v(ia(h+f),"handle","mouseup"===a.type);"mouseup"===a.type&&(S.off(da),y.removeClass(b.draggedClass),p.trigger(s+":moveEnd",
[d,q,e,"scrollbar"]))})}});if(b.cycleBy){if(b.pauseOnHover)p.on("mouseenter."+l+" mouseleave."+l,function(a){if(!I)f["mouseenter"===a.type?"pause":"cycle"](1)});f[b.startPaused?"pause":"cycle"]()}}function X(c){return!isNaN(parseFloat(c))&&isFinite(c)}function F(c,b,g){return c<b?b:c>g?g:c}for(var s="sly",l=s,u=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,ca=window.requestAnimationFrame,N,B=window,r=["moz","webkit","o"],ba=0,g=0,K=r.length;g<K&&!u;++g)ca=(u=B[r[g]+"CancelAnimationFrame"]||
B[r[g]+"CancelRequestAnimationFrame"])&&B[r[g]+"RequestAnimationFrame"];u||(ca=function(c){var b=+new Date,g=Math.max(0,16-(b-ba));ba=b+g;return B.setTimeout(function(){c(b+g)},g)},u=function(c){clearTimeout(c)});u=["transform","webkitTransform","msTransform"];r=document.createElement("div");g=0;for(K=u.length;g<K&&!N;g++)r.style[u[g]]!==L&&(N=u[g]);c.fn[s]=function(h,b){var g=!1,r,s;c.isPlainObject(h)||("string"===typeof h||!1===h?(g=!1===h?"destroy":h,r=arguments,Array.prototype.shift.call(r)):
!0===h&&(b=h),h={});this.each(function(b,u){var m=c.data(u,l);!m&&!g?m=c.data(u,l,new ea(u,h)):m&&g&&m[g]&&m[g].apply(m,r);s||(s=m)});return!g&&b?s:this};c.fn[s].defaults={horizontal:0,itemNav:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,clickBar:0,syncFactor:0.5,pagesBar:null,pageBuilder:function(c){return"<li>"+(c+1)+"</li>"},prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,scrollBy:0,dragContent:0,elasticBounds:0,speed:0,
easing:"swing",scrollSource:null,dragSource:null,startAt:0,keyboardNav:0,keyboardNavByPages:0,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}})(jQuery);
