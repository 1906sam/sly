(function(g,L){function ea(c,b){var T,j,x,r,fa,m,M;function v(a,ga,c){if(A&&(!ga||c)){var f=K(a);H?(a=k[f.centerItem].offCenter,E&&h.activate(f.centerItem,1)):a>d.min&&a<d.max&&(a=k[f.firstItem].offStart)}"slidee"===ga&&b.elasticBounds&&!c?a>d.max?a=d.max+(a-d.max)/6:a<d.min&&(a=d.min+(a-d.min)/6):a=F(a,d.min,d.max);T=+new Date;j=0;x=d.cur;r=a;fa=a-d.cur;M=(m=ga)&&!c;d.dest=a;!M&&!I&&h.cycle();g.extend(e,K(void 0));ba();U[0]&&G.page!==e.activePage&&(G.page=e.activePage,U.removeClass(b.activeClass).eq(e.activePage).addClass(b.activeClass));
a!==d.cur&&!V&&C()}function C(){V?((M?"slidee"===m:33>b.speed)?d.cur=r:M&&"handle"===m?d.cur+=(r-d.cur)*b.syncFactor:(j=Math.min(+new Date-T,b.speed),d.cur=x+fa*jQuery.easing[b.easing](j/b.speed,j,0,1,b.speed)),r===Math.round(d.cur)&&(M||j>=b.speed)?(d.cur=d.dest,V=0,m||p.trigger(s+":moveEnd",[d,q,e])):V=ca(C),p.trigger(s+":move",[d,q,e]),N?f[0].style[N]=(b.horizontal?"translateX":"translateY")+"("+-d.cur+"px)":f[0].style[b.horizontal?"left":"top"]=-Math.round(d.cur)+"px",y&&(u.cur=d.min===d.max?
0:(("handle"===m?d.dest:d.cur)-d.min)/(d.max-d.min)*u.max,u.cur=F(Math.round(u.cur),u.min,u.max),G.hPos!==u.cur&&(G.hPos=u.cur,N?y[0].style[N]=(b.horizontal?"translateX":"translateY")+"("+u.cur+"px)":y[0].style[b.horizontal?"left":"top"]=u.cur+"px"))):(V=ca(C),m||p.trigger(s+":moveStart",[d,q,e]))}function W(a){return X(a)?F(a,0,k.length-1):a===L?-1:q.index(a)}function O(a,b){return parseInt(a.css(b),10)}function K(a){a=F(X(a)?a:d.dest,d.min,d.max);for(var b={},e=E?0:z/2,c=0,g=w.length;c<g;c++){if(a>=
d.max||c===w.length-1){b.activePage=w.length-1;break}if(a<=w[c]+e){b.activePage=c;break}}if(A){for(var g=c=e=!1,f=0,h=k.length;f<h;f++){!1===e&&a<=k[f].offStart&&(e=f);!1===g&&a-k[f].size/2<=k[f].offCenter&&(g=f);if(f===k.length-1||!1===c&&a<k[f+1].offEnd)c=f;if(!1!==c)break}b.firstItem=X(e)?e:0;b.centerItem=X(g)?g:b.firstItem;b.lastItem=X(c)?c:b.centerItem}return b}function ba(){if(A){var a=0===e.activeItem,c=e.activeItem>=k.length-1,f=a?"first":c?"last":"middle";G.itemsButtonState!==f&&(G.itemsButtonState=
f,P.is("button,input")&&P.prop("disabled",a),Q.is("button,input")&&Q.prop("disabled",c),P[a?"removeClass":"addClass"](b.disabledClass),Q[c?"removeClass":"addClass"](b.disabledClass))}U[0]&&(a=d.dest<=d.min,c=d.dest>=d.max,f=a?"first":c?"last":"middle",G.pagesButtonState!==f&&(G.pagesButtonState=f,Y.is("button,input")&&Y.prop("disabled",a),Z.is("button,input")&&Z.prop("disabled",c),Y[a?"removeClass":"addClass"](b.disabledClass),Z[c?"removeClass":"addClass"](b.disabledClass)))}function ha(a){return Math.round(F(a,
u.min,u.max)/u.max*(d.max-d.min))+d.min}var h=this,p=g(c),f=p.children().eq(0),z=0,n=0,d={cur:0,dest:0,max:0,min:0},B=g(b.scrollBar).eq(0),y=B.length?B.children().eq(0):0,$=0,J=0,u={cur:0,max:0,min:0},R=g(b.pagesBar),U=0,w=[],ia="smart"===b.itemNav,E="forceCentered"===b.itemNav,H="centered"===b.itemNav||E,A="basic"===b.itemNav||ia||H||E,S=g(document),q=0,k=[],e={firstItem:0,lastItem:1,centerItem:1,activeItem:-1,activePage:0,items:0,pages:0},ja=b.scrollSource?g(b.scrollSource):p,ea=b.dragSource?g(b.dragSource):
p,P=g(b.prev),Q=g(b.next),Y=g(b.prevPage),Z=g(b.nextPage),G={};M=m=fa=r=x=j=T=void 0;var V=0,D=0,I=0,aa=0,la=this.reload=function(){var a=0,c=g.extend({},d);z=b.horizontal?p.width():p.height();$=b.horizontal?B.width():B.height();n=b.horizontal?f.outerWidth():f.outerHeight();d.min=0;d.max=Math.max(n-z,0);G={};if(A){q=f.children(":visible");e.items=q.length;k=[];w=[];var l=O(f,b.horizontal?"paddingLeft":"paddingTop"),T=O(f,b.horizontal?"paddingRight":"paddingBottom"),j=O(q,b.horizontal?"marginLeft":
"marginTop"),m=O(q.slice(-1),b.horizontal?"marginRight":"marginBottom"),t=0,x="none"!==q.css("float"),a=j?0:m;n=0;q.each(function(a,d){var c=g(d),e=c[b.horizontal?"outerWidth":"outerHeight"](!0),f=O(c,b.horizontal?"marginLeft":"marginTop"),c=O(c,b.horizontal?"marginRight":"marginBottom"),h={size:e,offStart:n-(!a||b.horizontal?0:f),offCenter:n-Math.round(z/2-e/2),offEnd:n-z+e-(j?0:c)};a||(t=-(E?Math.round(z/2-e/2):0)+l,n+=l);n+=e;!b.horizontal&&!x&&c&&(f&&0<a)&&(n-=Math.min(f,c));a===q.length-1&&(n+=
T);k.push(h)});f[0].style[b.horizontal?"width":"height"]=n+"px";n-=a;d.min=t;d.max=E?k[k.length-1].offCenter:Math.max(n-z,0);e.activeItem>=k.length?h.activate(k.length-1):1===k.length&&q.eq(e.activeItem).addClass(b.activeClass)}g.extend(e,K(void 0));y&&(J=b.dynamicHandle?Math.round($*z/n):y[b.horizontal?"outerWidth":"outerHeight"](),b.dynamicHandle&&(J=F(J,b.minHandleSize,$),y[0].style[b.horizontal?"width":"height"]=J+"px"),u.max=$-J);var r=0,m="",D=0;if(E)w=g.map(k,function(a){return a.offCenter});
else for(;r-z<d.max;){var C=Math.min(d.max,r);w.push(C);r+=z;if(r>d.max&&A&&d.max-C<(k[k.length-1].size-a)/2){w[w.length-1]=d.max;break}}if(R[0]){for(a=0;a<w.length;a++)m+=b.pageBuilder(D++);U=g(m).appendTo(R.empty())}v(F(d.dest,d.min,d.max));e.pages=w.length;e.slideeSize=n;e.frameSize=z;e.sbSize=$;e.handleSize=J;p.trigger(s+":load",[g.extend({},d,{old:c}),q,e])};this.prev=function(){h.activate(e.activeItem-1)};this.next=function(){h.activate(e.activeItem+1)};this.prevPage=function(){h.activatePage(e.activePage-
1)};this.nextPage=function(){h.activatePage(e.activePage+1)};this.toStart=function(a){a===L?v(d.min):A?(a=W(a),-1!==a&&!H&&v(k[a].offStart)):(a=f.find(a).eq(0),g.contains(f[0],a[0])&&v(b.horizontal?a.offset().left-f.offset().left:a.offset().top-f.offset().top))};this.toEnd=function(a){if(a===L)v(d.max);else if(A)a=W(a),-1!==a&&!H&&v(k[a].offEnd);else if(a=f.find(a).eq(0),g.contains(f[0],a[0])){var c=b.horizontal?a.offset().left-f.offset().left:a.offset().top-f.offset().top;v(c-z+a[b.horizontal?"outerWidth":
"outerHeight"]())}};this.toCenter=function(a){if(a===L)v(Math.round(d.max/2+d.min/2));else if(A)a=W(a),-1!==a&&v(k[a].offCenter);else if(a=f.find(a).eq(0),a[0]){var c=b.horizontal?a.offset().left-f.offset().left:a.offset().top-f.offset().top;v(c-z/2+a[b.horizontal?"outerWidth":"outerHeight"]()/2)}};this.activate=function(a,d){if(A&&a!==L){var c=W(a),f=e.activeItem;e.activeItem=c;q.removeClass(b.activeClass).eq(c).addClass(b.activeClass);ba();c!==f&&p.trigger(s+":active",[q.eq(c)]);d||(H?h.toCenter(c):
ia&&(c>=e.lastItem?h.toStart(c):c<=e.firstItem?h.toEnd(c):h.cycle()))}};this.activatePage=function(a){a=F(a,0,w.length-1);v(w[a])};this.cycle=function(a){if(b.cycleBy&&b.cycleInterval&&!("items"===b.cycleBy&&!k[0]||a&&I))I=0,D?D=clearTimeout(D):p.trigger(s+":cycleStart",[d,q,e]),D=setTimeout(function(){switch(b.cycleBy){case "items":h.activate(e.activeItem>=k.length-1?0:e.activeItem+1);break;case "pages":h.activatePage(e.activePage>=w.length-1?0:e.activePage+1)}p.trigger(s+":cycle",[d,q,e])},b.cycleInterval)};
this.pause=function(a){a||(I=!0);D&&(D=clearTimeout(D),p.trigger(s+":cyclePause",[d,q,e]))};this.toggle=function(){h[D?"pause":"cycle"]()};this.set=function(a,c){g.isPlainObject(a)?g.extend(b,a):b.hasOwnProperty(a)&&(b[a]=c)};this.destroy=function(){p.add(S).add(f).add(ja).add(y).add(B).add(R).add(P).add(Q).add(Y).add(Z).unbind("."+l);f.add(y).css(b.horizontal?"left":"top",0);P.add(Q).removeClass(b.disabledClass);R.empty();g.removeData(c,l)};var da="mousemove."+l+" mouseup."+l;b=g.extend({},g.fn[s].defaults,
b);p.css("overflow","hidden");"static"===p.css("position")&&p.css("position","relative");"static"===B.css("position")&&B.css("position","relative");f.add(y).css(g.extend({position:"absolute"},b.horizontal?{left:0}:{top:0}));la();A?h.activate(b.startAt):v(b.startAt);b.scrollBy&&ja.bind("DOMMouseScroll."+l+" mousewheel."+l,function(a){if(d.min!==d.max){t(a,1);a=a.originalEvent;var c=0;a.wheelDelta&&(c=0>a.wheelDelta/120);a.detail&&(c=0>-a.detail/3);A?(a=W((H?E?e.activeItem:e.centerItem:e.firstItem)+
(c?b.scrollBy:-b.scrollBy)),h[H?E?"activate":"toCenter":"toStart"](a)):v(d.dest+(c?b.scrollBy:-b.scrollBy))}});if(b.clickBar&&B[0])B.on("click."+l,function(a){1===a.which&&(t(a),v(ha((b.horizontal?a.clientX-B.offset().left:a.clientY-B.offset().top)-J/2)))});b.keyboardNav&&S.bind("keydown."+l,function(a){switch(a.which){case b.horizontal?37:38:t(a);h[b.keyboardNavByPages?"prevPage":"prev"]();break;case b.horizontal?39:40:t(a),h[b.keyboardNavByPages?"nextPage":"next"]()}});if(b.prev)P.on("click."+l,
function(a){t(a);h.prev()});if(b.next)Q.on("click."+l,function(a){t(a);h.next()});if(b.prevPage)Y.on("click."+l,function(a){t(a);h.prevPage()});if(b.nextPage)Z.on("click."+l,function(a){t(a);h.nextPage()});f.on("click."+l,"*",function(a){1===a.which&&(a.target.parentNode===a.delegateTarget&&!aa)&&h.activate(this);aa=0});if(R[0])R.on("click."+l,"*",function(){h.activatePage(U.index(this))});if(b.dragContent)ea.on("mousedown."+l,function(a){if(1===a.which){t(a);var c=b.horizontal?a.clientX:a.clientY,
k=d.cur,l=+new Date,m=g(a.target),n=0;f.addClass(b.draggedClass);S.on(da,function(a){var g="mouseup"===a.type,j=(b.horizontal?a.clientX:a.clientY)-c;!n&&10<Math.abs(j)&&(aa=n=1,h.pause(!I),m.on("click",function ka(a){t(a,1);aa=0;m.off("click",ka)}),p.trigger(s+":moveStart",[d,q,e,"slidee"]));n&&(t(a),g&&33<b.speed&&(j+=200*j/(+new Date-l)),v(Math.round(k-j),"slidee",g));g&&(aa=0,S.off(da),f.removeClass(b.draggedClass),p.trigger(s+":moveEnd",[d,q,e,"slidee"]))})}});if(y&&b.dragHandle)y.on("mousedown."+
l,function(a){if(1===a.which){t(a);var c=b.horizontal?a.clientX:a.clientY,f=u.cur,g=-u.cur,k=u.max-u.cur;y.addClass(b.draggedClass);p.trigger(s+":moveStart",[d,q,e,"scrollbar"]);h.pause(!I);S.on(da,function(a){t(a);var h=F((b.horizontal?a.clientX:a.clientY)-c,g,k);v(ha(f+h),"handle","mouseup"===a.type);"mouseup"===a.type&&(S.off(da),y.removeClass(b.draggedClass),p.trigger(s+":moveEnd",[d,q,e,"scrollbar"]))})}});if(b.cycleBy){if(b.pauseOnHover)p.on("mouseenter."+l+" mouseleave."+l,function(a){if(!I)h["mouseenter"===
a.type?"pause":"cycle"](1)});h[b.startPaused?"pause":"cycle"]()}}function t(c,b){c=c||window.event;c.preventDefault?c.preventDefault():c.returnValue=!1;b&&(c.stopPropagation?c.stopPropagation():c.cancelBubble=!0)}function X(c){return!isNaN(parseFloat(c))&&isFinite(c)}function F(c,b,g){return c<b?b:c>g?g:c}for(var s="sly",l=s,x=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,ca=window.requestAnimationFrame,N,C=window,r=["moz","webkit","o"],ba=0,j=0,K=r.length;j<K&&!x;++j)ca=(x=C[r[j]+
"CancelAnimationFrame"]||C[r[j]+"CancelRequestAnimationFrame"])&&C[r[j]+"RequestAnimationFrame"];x||(ca=function(c){var b=+new Date,g=Math.max(0,16-(b-ba));ba=b+g;return C.setTimeout(function(){c(b+g)},g)},x=function(c){clearTimeout(c)});x=["transform","webkitTransform","msTransform"];r=document.createElement("div");j=0;for(K=x.length;j<K&&!N;j++)r.style[x[j]]!==L&&(N=x[j]);g.fn[s]=function(c,b){var j=!1,r,s;g.isPlainObject(c)||("string"===typeof c||!1===c?(j=!1===c?"destroy":c,r=arguments,Array.prototype.shift.call(r)):
!0===c&&(b=c),c={});this.each(function(b,t){var m=g.data(t,l);!m&&!j?m=g.data(t,l,new ea(t,c)):m&&j&&m[j]&&m[j].apply(m,r);s||(s=m)});return!j&&b?s:this};g.fn[s].defaults={horizontal:0,itemNav:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,clickBar:0,syncFactor:0.5,pagesBar:null,pageBuilder:function(c){return"<li>"+(c+1)+"</li>"},prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,scrollBy:0,dragContent:0,elasticBounds:0,speed:0,
easing:"swing",scrollSource:null,dragSource:null,startAt:0,keyboardNav:0,keyboardNavByPages:0,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}})(jQuery);
