(function(c,J){function ea(h,b){var C,g,q,t,fa,s,K;function v(a,ga,L){if(A&&(!ga||L)){var h=I(a);H?(a=k[h.centerItem].offCenter,D&&f.activate(h.centerItem,1)):a>d.min&&a<d.max&&(a=k[h.firstItem].offStart)}"slidee"===ga&&b.elasticBounds&&!L?a>d.max?a=d.max+(a-d.max)/6:a<d.min&&(a=d.min+(a-d.min)/6):a=F(a,d.min,d.max);C=+new Date;g=0;q=d.cur;t=a;fa=a-d.cur;K=(s=ga)&&!L;d.dest=a;K||f.cycle();c.extend(e,I(void 0));ba();U[0]&&E.page!==e.activePage&&(E.page=e.activePage,U.removeClass(b.activeClass).eq(e.activePage).addClass(b.activeClass));
a!==d.cur&&!V&&G()}function G(){V?((K?"slidee"===s:33>b.speed)?d.cur=t:K&&"handle"===s?d.cur+=(t-d.cur)*b.syncFactor:(g=Math.min(+new Date-C,b.speed),d.cur=q+fa*jQuery.easing[b.easing](g/b.speed,g,0,1,b.speed)),t===Math.round(d.cur)&&(K||g>=b.speed)?(d.cur=d.dest,V=0,s||n.trigger(r+":moveEnd",[d,p,e])):V=ca(G),n.trigger(r+":move",[d,p,e]),M?j[0].style[M]=(b.horizontal?"translateX":"translateY")+"("+-d.cur+"px)":j[0].style[b.horizontal?"left":"top"]=-Math.round(d.cur)+"px",y&&(u.cur=d.min===d.max?
0:(("handle"===s?d.dest:d.cur)-d.min)/(d.max-d.min)*u.max,u.cur=F(Math.round(u.cur),u.min,u.max),E.hPos!==u.cur&&(E.hPos=u.cur,M?y[0].style[M]=(b.horizontal?"translateX":"translateY")+"("+u.cur+"px)":y[0].style[b.horizontal?"left":"top"]=u.cur+"px"))):(V=ca(G),s||n.trigger(r+":moveStart",[d,p,e]))}function W(a){return X(a)?F(a,0,k.length-1):a===J?-1:p.index(a)}function N(a,b){return parseInt(a.css(b),10)}function I(a){a=F(X(a)?a:d.dest,d.min,d.max);for(var b={},e=D?0:z/2,c=0,h=w.length;c<h;c++){if(a>=
d.max||c===w.length-1){b.activePage=w.length-1;break}if(a<=w[c]+e){b.activePage=c;break}}if(A){for(var h=c=e=!1,f=0,j=k.length;f<j;f++){!1===e&&a<=k[f].offStart&&(e=f);!1===h&&a-k[f].size/2<=k[f].offCenter&&(h=f);if(f===k.length-1||!1===c&&a<k[f+1].offEnd)c=f;if(!1!==c)break}b.firstItem=X(e)?e:0;b.centerItem=X(h)?h:b.firstItem;b.lastItem=X(c)?c:b.centerItem}return b}function ba(){if(A){var a=0===e.activeItem,c=e.activeItem>=k.length-1,f=a?"first":c?"last":"middle";E.itemsButtonState!==f&&(E.itemsButtonState=
f,O.is("button,input")&&O.prop("disabled",a),P.is("button,input")&&P.prop("disabled",c),O[a?"removeClass":"addClass"](b.disabledClass),P[c?"removeClass":"addClass"](b.disabledClass))}U[0]&&(a=d.dest<=d.min,c=d.dest>=d.max,f=a?"first":c?"last":"middle",E.pagesButtonState!==f&&(E.pagesButtonState=f,Y.is("button,input")&&Y.prop("disabled",a),Z.is("button,input")&&Z.prop("disabled",c),Y[a?"removeClass":"addClass"](b.disabledClass),Z[c?"removeClass":"addClass"](b.disabledClass)))}function x(a,b){a=a||
window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;b&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}var f=this,n=c(h),j=n.children().eq(0),z=0,l=0,d={cur:0,dest:0,max:0,min:0},Q=c(b.scrollBar).eq(0),y=Q.length?Q.children().eq(0):0,$=0,R=0,u={cur:0,max:0,min:0},S=c(b.pagesBar),U=0,w=[],ia="smart"===b.itemNav,D="forceCentered"===b.itemNav,H="centered"===b.itemNav||D,A="basic"===b.itemNav||ia||H||D,T=c(document),p=0,k=[],e={firstItem:0,lastItem:1,centerItem:1,activeItem:-1,
activePage:0,items:0,pages:0},ja=b.scrollSource?c(b.scrollSource):n,ea=b.dragSource?c(b.dragSource):n,O=c(b.prev),P=c(b.next),Y=c(b.prevPage),Z=c(b.nextPage),E={};K=s=fa=t=q=g=C=void 0;var V=0,B=0,ha=0,aa=0,la=this.reload=function(){var a=0,h=c.extend({},d);z=b.horizontal?n.width():n.height();$=b.horizontal?Q.width():Q.height();l=b.horizontal?j.outerWidth():j.outerHeight();d.min=0;d.max=Math.max(l-z,0);E={};if(A){p=j.children(":visible");e.items=p.length;k=[];w=[];var L=N(j,b.horizontal?"paddingLeft":
"paddingTop"),m=N(j,b.horizontal?"paddingRight":"paddingBottom"),C=N(p,b.horizontal?"marginLeft":"marginTop"),g=N(p.slice(-1),b.horizontal?"marginRight":"marginBottom"),s=0,x="none"!==p.css("float"),a=C?0:g;l=0;p.each(function(a,d){var e=c(d),f=e[b.horizontal?"outerWidth":"outerHeight"](!0),h=N(e,b.horizontal?"marginLeft":"marginTop"),e=N(e,b.horizontal?"marginRight":"marginBottom"),j={size:f,offStart:l-(!a||b.horizontal?0:h),offCenter:l-Math.round(z/2-f/2),offEnd:l-z+f-(C?0:e)};a||(s=-(D?Math.round(z/
2-f/2):0)+L,l+=L);l+=f;!b.horizontal&&!x&&e&&(h&&0<a)&&(l-=Math.min(h,e));a===p.length-1&&(l+=m);k.push(j)});j[0].style[b.horizontal?"width":"height"]=l+"px";l-=a;d.min=s;d.max=D?k[k.length-1].offCenter:Math.max(l-z,0);e.activeItem>=k.length?f.activate(k.length-1):1===k.length&&p.eq(e.activeItem).addClass(b.activeClass)}c.extend(e,I(void 0));y&&(R=b.dynamicHandle?Math.round($*z/l):y[b.horizontal?"outerWidth":"outerHeight"](),b.dynamicHandle&&(R=F(R,b.minHandleSize,$),y[0].style[b.horizontal?"width":
"height"]=R+"px"),u.max=$-R);var q=0,g="",t=0;if(D)w=c.map(k,function(a){return a.offCenter});else for(;q-z<d.max;){var B=Math.min(d.max,q);w.push(B);q+=z;if(q>d.max&&A&&d.max-B<(k[k.length-1].size-a)/2){w[w.length-1]=d.max;break}}if(S[0]){for(a=0;a<w.length;a++)g+=b.pageBuilder(t++);U=c(g).appendTo(S.empty())}v(F(d.dest,d.min,d.max));e.pages=w.length;e.slideeSize=l;e.frameSize=z;e.sbSize=$;e.handleSize=R;n.trigger(r+":load",[c.extend({},d,{old:h}),p,e])};this.prev=function(){f.activate(e.activeItem-
1)};this.next=function(){f.activate(e.activeItem+1)};this.prevPage=function(){f.activatePage(e.activePage-1)};this.nextPage=function(){f.activatePage(e.activePage+1)};this.toStart=function(a){a===J?v(d.min):A?(a=W(a),-1!==a&&!H&&v(k[a].offStart)):(a=j.find(a).eq(0),c.contains(j[0],a[0])&&v(b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top))};this.toEnd=function(a){if(a===J)v(d.max);else if(A)a=W(a),-1!==a&&!H&&v(k[a].offEnd);else if(a=j.find(a).eq(0),c.contains(j[0],a[0])){var e=
b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;v(e-z+a[b.horizontal?"outerWidth":"outerHeight"]())}};this.toCenter=function(a){if(a===J)v(Math.round(d.max/2+d.min/2));else if(A)a=W(a),-1!==a&&v(k[a].offCenter);else if(a=j.find(a).eq(0),a[0]){var e=b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;v(e-z/2+a[b.horizontal?"outerWidth":"outerHeight"]()/2)}};this.activate=function(a,d){if(A&&a!==J){var c=W(a),h=e.activeItem;e.activeItem=c;p.removeClass(b.activeClass).eq(c).addClass(b.activeClass);
ba();c!==h&&n.trigger(r+":active",[p.eq(c)]);d||(H?f.toCenter(c):ia&&(c>=e.lastItem?f.toStart(c):c<=e.firstItem?f.toEnd(c):f.cycle()))}};this.activatePage=function(a){a=F(a,0,w.length-1);v(w[a])};this.cycle=function(a){if(b.cycleBy&&b.cycleInterval&&!("items"===b.cycleBy&&!k[0]||a&&ha))B?B=clearTimeout(B):n.trigger(r+":cycleStart",[d,p,e]),B=setTimeout(function(){switch(b.cycleBy){case "items":f.activate(e.activeItem>=k.length-1?0:e.activeItem+1);break;case "pages":f.activatePage(e.activePage>=w.length-
1?0:e.activePage+1)}n.trigger(r+":cycle",[d,p,e])},b.cycleInterval)};this.pause=function(a){a||(ha=!0);B&&(B=clearTimeout(B),n.trigger(r+":cyclePause",[d,p,e]))};this.toggle=function(){f[B?"pause":"cycle"]()};this.set=function(a,d){c.isPlainObject(a)?c.extend(b,a):b.hasOwnProperty(a)&&(b[a]=d)};this.destroy=function(){n.add(T).add(j).add(ja).add(y).add(S).add(O).add(P).add(Y).add(Z).unbind("."+m);j.add(y).css(b.horizontal?"left":"top",0);O.add(P).removeClass(b.disabledClass);S.empty();c.removeData(h,
m)};var da="mousemove."+m+" mouseup."+m;b=c.extend({},c.fn[r].defaults,b);n.css("overflow","hidden");"static"===n.css("position")&&n.css("position","relative");"static"===Q.css("position")&&Q.css("position","relative");j.add(y).css(c.extend({position:"absolute"},b.horizontal?{left:0}:{top:0}));la();A?f.activate(b.startAt):v(b.startAt);b.scrollBy&&ja.bind("DOMMouseScroll."+m+" mousewheel."+m,function(a){if(d.min!==d.max){x(a,1);a=a.originalEvent;var c=0;a.wheelDelta&&(c=0>a.wheelDelta/120);a.detail&&
(c=0>-a.detail/3);A?(a=W((H?D?e.activeItem:e.centerItem:e.firstItem)+(c?b.scrollBy:-b.scrollBy)),f[H?D?"activate":"toCenter":"toStart"](a)):v(d.dest+(c?b.scrollBy:-b.scrollBy))}});b.keyboardNav&&T.bind("keydown."+m,function(a){switch(a.which){case b.horizontal?37:38:x(a);f[b.keyboardNavByPages?"prevPage":"prev"]();break;case b.horizontal?39:40:x(a),f[b.keyboardNavByPages?"nextPage":"next"]()}});if(b.prev)O.on("click."+m,function(a){x(a);f.prev()});if(b.next)P.on("click."+m,function(a){x(a);f.next()});
if(b.prevPage)Y.on("click."+m,function(a){x(a);f.prevPage()});if(b.nextPage)Z.on("click."+m,function(a){x(a);f.nextPage()});j.on("click."+m,"*",function(a){1===a.which&&(a.target.parentNode===a.delegateTarget&&!aa)&&f.activate(this);aa=0});if(S[0])S.on("click."+m,"*",function(){f.activatePage(U.index(this))});if(b.dragContent)ea.on("mousedown."+m,function(a){if(1===a.which){x(a);var h=b.horizontal?a.clientX:a.clientY,k=d.cur,g=+new Date,m=c(a.target),C=0;j.addClass(b.draggedClass);T.on(da,function(a){var c=
"mouseup"===a.type,l=(b.horizontal?a.clientX:a.clientY)-h;!C&&10<Math.abs(l)&&(aa=C=1,f.pause(1),m.on("click",function ka(a){x(a,1);aa=0;m.off("click",ka)}),n.trigger(r+":moveStart",[d,p,e,"slidee"]));C&&(x(a),c&&33<b.speed&&(l+=200*l/(+new Date-g)),v(Math.round(k-l),"slidee",c));c&&(aa=0,T.off(da),j.removeClass(b.draggedClass),n.trigger(r+":moveEnd",[d,p,e,"slidee"]))})}});if(y&&b.dragHandle)y.on("mousedown."+m,function(a){if(1===a.which){x(a);var c=b.horizontal?a.clientX:a.clientY,h=u.cur,j=-u.cur,
k=u.max-u.cur;y.addClass(b.draggedClass);n.trigger(r+":moveStart",[d,p,e,"scrollbar"]);f.pause(1);T.on(da,function(a){x(a);var f=F((b.horizontal?a.clientX:a.clientY)-c,j,k);v(Math.round((h+f)/u.max*(d.max-d.min))+d.min,"handle","mouseup"===a.type);"mouseup"===a.type&&(T.off(da),y.removeClass(b.draggedClass),n.trigger(r+":moveEnd",[d,p,e,"scrollbar"]))})}});if(b.cycleBy){if(b.pauseOnHover)n.on("mouseenter."+m+" mouseleave."+m,function(a){if(!ha)f["mouseenter"===a.type?"pause":"cycle"](1)});f[b.startPaused?
"pause":"cycle"]()}}function X(c){return!isNaN(parseFloat(c))&&isFinite(c)}function F(c,b,g){return c<b?b:c>g?g:c}for(var r="sly",m=r,q=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,ca=window.requestAnimationFrame,M,G=window,t=["moz","webkit","o"],ba=0,g=0,I=t.length;g<I&&!q;++g)ca=(q=G[t[g]+"CancelAnimationFrame"]||G[t[g]+"CancelRequestAnimationFrame"])&&G[t[g]+"RequestAnimationFrame"];q||(ca=function(c){var b=+new Date,g=Math.max(0,16-(b-ba));ba=b+g;return G.setTimeout(function(){c(b+
g)},g)},q=function(c){clearTimeout(c)});q=["transform","webkitTransform","msTransform"];t=document.createElement("div");g=0;for(I=q.length;g<I&&!M;g++)t.style[q[g]]!==J&&(M=q[g]);c.fn[r]=function(h,b){var g=!1,q,r;c.isPlainObject(h)||("string"===typeof h||!1===h?(g=!1===h?"destroy":h,q=arguments,Array.prototype.shift.call(q)):!0===h&&(b=h),h={});this.each(function(b,t){var s=c.data(t,m);!s&&!g?s=c.data(t,m,new ea(t,h)):s&&g&&s[g]&&s[g].apply(s,q);r||(r=s)});return!g&&b?r:this};c.fn[r].defaults={horizontal:0,
itemNav:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,syncFactor:0.5,pagesBar:null,pageBuilder:function(c){return"<li>"+(c+1)+"</li>"},prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,scrollBy:0,dragContent:0,elasticBounds:0,speed:0,easing:"swing",scrollSource:null,dragSource:null,startAt:0,keyboardNav:0,keyboardNavByPages:0,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}})(jQuery);
