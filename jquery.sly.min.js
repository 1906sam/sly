(function(c,K){function fa(h,b){var A,g,r,D,U,G,n;function u(a,ga,L){if(z&&(!ga||L)){var h=J(a);H?(a=k[h.centerItem].offCenter,B&&f.activate(h.centerItem,1)):a>d.min&&a<d.max&&(a=k[h.firstItem].offStart)}"slidee"===ga&&b.elasticBounds&&!L?a>d.max?a=d.max+(a-d.max)/6:a<d.min&&(a=d.min+(a-d.min)/6):a=I(a,d.min,d.max);A=+new Date;g=0;r=d.cur;D=a;U=a-d.cur;n=(G=ga)&&!L;d.dest=a;n||f.cycle();c.extend(e,J(d.dest));ba();V[0]&&C.page!==e.activePage&&(C.page=e.activePage,V.removeClass(b.activeClass).eq(e.activePage).addClass(b.activeClass));
a!==d.cur&&!W&&F()}function F(){W?((n?"slidee"===G:33>b.speed)?d.cur=D:n&&"handle"===G?d.cur+=(D-d.cur)*b.syncFactor:(g=Math.min(+new Date-A,b.speed),d.cur=r+U*jQuery.easing[b.easing](g/b.speed,g,0,1,b.speed)),D===Math.round(d.cur)&&(n||g>=b.speed)?(d.cur=d.dest,W=0,G||p.trigger(s+":moveEnd",[d,q,e])):W=ca(F),p.trigger(s+":move",[d,q,e]),M?j[0].style[M]=(b.horizontal?"translateX":"translateY")+"("+-d.cur+"px)":j[0].style[b.horizontal?"left":"top"]=-Math.round(d.cur)+"px",x&&(t.cur=d.min===d.max?0:
(("handle"===G?d.dest:d.cur)-d.min)/(d.max-d.min)*t.max,t.cur=I(Math.round(t.cur),t.min,t.max),C.hPos!==t.cur&&(C.hPos=t.cur,M?x[0].style[M]=(b.horizontal?"translateX":"translateY")+"("+t.cur+"px)":x[0].style[b.horizontal?"left":"top"]=t.cur+"px"))):(W=ca(F),G||p.trigger(s+":moveStart",[d,q,e]))}function X(a){return da(a)?I(a,0,k.length-1):a===K?-1:q.index(a)}function N(a,b){return parseInt(a.css(b),10)}function J(a){a=a||d.dest;for(var b={},e=B?0:y/2,c=0,h=v.length;c<h;c++){if(a>=d.max||c===v.length-
1){b.activePage=v.length-1;break}if(a<=v[c]+e){b.activePage=c;break}}if(z){for(var h=c=e=!1,f=0,j=k.length;f<j;f++){!1===e&&a<=k[f].offStart&&(e=f);!1===h&&a-k[f].size/2<=k[f].offCenter&&(h=f);if(f===k.length-1||!1===c&&a<k[f+1].offEnd)c=f;if(!1!==c)break}b.firstItem=da(e)?e:0;b.centerItem=da(h)?h:b.firstItem;b.lastItem=da(c)?c:b.centerItem}return b}function ba(){if(z){var a=0===e.activeItem,c=e.activeItem>=k.length-1,f=a?"first":c?"last":"middle";C.itemsButtonState!==f&&(C.itemsButtonState=f,O.is("button,input")&&
O.prop("disabled",a),P.is("button,input")&&P.prop("disabled",c),O[a?"removeClass":"addClass"](b.disabledClass),P[c?"removeClass":"addClass"](b.disabledClass))}V[0]&&(a=d.dest<=d.min,c=d.dest>=d.max,f=a?"first":c?"last":"middle",C.pagesButtonState!==f&&(C.pagesButtonState=f,Y.is("button,input")&&Y.prop("disabled",a),Z.is("button,input")&&Z.prop("disabled",c),Y[a?"removeClass":"addClass"](b.disabledClass),Z[c?"removeClass":"addClass"](b.disabledClass)))}function w(a,b){a=a||window.event;a.preventDefault?
a.preventDefault():a.returnValue=!1;b&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0)}var f=this,p=c(h),j=p.children().eq(0),y=0,l=0,d={cur:0,dest:0,max:0,min:0},Q=c(b.scrollBar).eq(0),x=Q.length?Q.children().eq(0):0,$=0,R=0,t={cur:0,max:0,min:0},S=c(b.pagesBar),V=0,v=[],ia="smart"===b.itemNav,B="forceCentered"===b.itemNav,H="centered"===b.itemNav||B,z="basic"===b.itemNav||ia||H||B,T=c(document),q=0,k=[],e={firstItem:0,lastItem:1,centerItem:1,activeItem:-1,activePage:0,items:0,pages:0},
ja=b.scrollSource?c(b.scrollSource):p,fa=b.dragSource?c(b.dragSource):p,O=c(b.prev),P=c(b.next),Y=c(b.prevPage),Z=c(b.nextPage),C={};n=G=U=D=r=g=A=void 0;var W=0,E=0,ha=0,aa=0,la=this.reload=function(){var a=0,h=c.extend({},d);y=b.horizontal?p.width():p.height();$=b.horizontal?Q.width():Q.height();l=b.horizontal?j.outerWidth():j.outerHeight();d.min=0;d.max=Math.max(l-y,0);C={};if(z){q=j.children(":visible");e.items=q.length;k=[];v=[];var L=N(j,b.horizontal?"paddingLeft":"paddingTop"),m=N(j,b.horizontal?
"paddingRight":"paddingBottom"),A=N(q,b.horizontal?"marginLeft":"marginTop"),g=N(q.slice(-1),b.horizontal?"marginRight":"marginBottom"),n=0,w="none"!==q.css("float"),a=A?0:g;l=0;q.each(function(a,d){var e=c(d),f=e[b.horizontal?"outerWidth":"outerHeight"](!0),h=N(e,b.horizontal?"marginLeft":"marginTop"),e=N(e,b.horizontal?"marginRight":"marginBottom"),j={size:f,offStart:l-(!a||b.horizontal?0:h),offCenter:l-Math.round(y/2-f/2),offEnd:l-y+f-(A?0:e)};a||(n=-(B?Math.round(y/2-f/2):0)+L,l+=L);l+=f;!b.horizontal&&
!w&&e&&(h&&0<a)&&(l-=Math.min(h,e));a===q.length-1&&(l+=m);k.push(j)});j[0].style[b.horizontal?"width":"height"]=l+"px";l-=a;d.min=n;d.max=B?k[k.length-1].offCenter:Math.max(l-y,0);e.activeItem>=k.length?f.activate(k.length-1):1===k.length&&q.eq(e.activeItem).addClass(b.activeClass)}c.extend(e,J(d.dest));x&&(R=b.dynamicHandle?Math.round($*y/l):x[b.horizontal?"outerWidth":"outerHeight"](),b.dynamicHandle&&(R=I(R,b.minHandleSize,$),x[0].style[b.horizontal?"width":"height"]=R+"px"),t.max=$-R);var r=
0,g="",U=0;if(B)v=c.map(k,function(a){return a.offCenter});else for(;r-y<d.max;){var D=Math.min(d.max,r);v.push(D);r+=y;if(r>d.max&&z&&d.max-D<(k[k.length-1].size-a)/2){v[v.length-1]=d.max;break}}if(S[0]){for(a=0;a<v.length;a++)g+=b.pageBuilder(U++);V=c(g).appendTo(S.empty())}u(I(d.dest,d.min,d.max));e.pages=v.length;e.slideeSize=l;e.frameSize=y;e.sbSize=$;e.handleSize=R;p.trigger(s+":load",[c.extend({},d,{old:h}),q,e])};this.prev=function(){f.activate(e.activeItem-1)};this.next=function(){f.activate(e.activeItem+
1)};this.prevPage=function(){f.activatePage(e.activePage-1)};this.nextPage=function(){f.activatePage(e.activePage+1)};this.toStart=function(a){a===K?u(d.min):z?(a=X(a),-1!==a&&!H&&u(k[a].offStart)):(a=j.find(a).eq(0),c.contains(j[0],a[0])&&u(b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top))};this.toEnd=function(a){if(a===K)u(d.max);else if(z)a=X(a),-1!==a&&!H&&u(k[a].offEnd);else if(a=j.find(a).eq(0),c.contains(j[0],a[0])){var e=b.horizontal?a.offset().left-j.offset().left:
a.offset().top-j.offset().top;u(e-y+a[b.horizontal?"outerWidth":"outerHeight"]())}};this.toCenter=function(a){if(a===K)u(Math.round(d.max/2+d.min/2));else if(z)a=X(a),-1!==a&&u(k[a].offCenter);else if(a=j.find(a).eq(0),a[0]){var e=b.horizontal?a.offset().left-j.offset().left:a.offset().top-j.offset().top;u(e-y/2+a[b.horizontal?"outerWidth":"outerHeight"]()/2)}};this.activate=function(a,d){if(z&&a!==K){var c=X(a),h=e.activeItem;e.activeItem=c;q.removeClass(b.activeClass).eq(c).addClass(b.activeClass);
ba();c!==h&&p.trigger(s+":active",[q.eq(c)]);d||(H?f.toCenter(c):ia&&(c>=e.lastItem?f.toStart(c):c<=e.firstItem?f.toEnd(c):f.cycle()))}};this.activatePage=function(a){a=I(a,0,v.length-1);u(v[a])};this.cycle=function(a){if(b.cycleBy&&b.cycleInterval&&!("items"===b.cycleBy&&!k[0]||a&&ha))E?E=clearTimeout(E):p.trigger(s+":cycleStart",[d,q,e]),E=setTimeout(function(){switch(b.cycleBy){case "items":f.activate(e.activeItem>=k.length-1?0:e.activeItem+1);break;case "pages":f.activatePage(e.activePage>=v.length-
1?0:e.activePage+1)}p.trigger(s+":cycle",[d,q,e])},b.cycleInterval)};this.pause=function(a){a||(ha=!0);E&&(E=clearTimeout(E),p.trigger(s+":cyclePause",[d,q,e]))};this.toggle=function(){f[E?"pause":"cycle"]()};this.set=function(a,d){c.isPlainObject(a)?c.extend(b,a):b.hasOwnProperty(a)&&(b[a]=d)};this.destroy=function(){p.add(T).add(j).add(ja).add(x).add(S).add(O).add(P).add(Y).add(Z).unbind("."+m);j.add(x).css(b.horizontal?"left":"top",0);O.add(P).removeClass(b.disabledClass);S.empty();c.removeData(h,
m)};var ea="mousemove."+m+" mouseup."+m;b=c.extend({},c.fn[s].defaults,b);p.css("overflow","hidden");"static"===p.css("position")&&p.css("position","relative");"static"===Q.css("position")&&Q.css("position","relative");j.add(x).css(c.extend({position:"absolute"},b.horizontal?{left:0}:{top:0}));la();z?f.activate(b.startAt):u(b.startAt);b.scrollBy&&ja.bind("DOMMouseScroll."+m+" mousewheel."+m,function(a){if(d.min!==d.max){w(a,1);a=a.originalEvent;var c=0;a.wheelDelta&&(c=0>a.wheelDelta/120);a.detail&&
(c=0>-a.detail/3);z?(a=X((H?B?e.activeItem:e.centerItem:e.firstItem)+(c?b.scrollBy:-b.scrollBy)),f[H?B?"activate":"toCenter":"toStart"](a)):u(d.dest+(c?b.scrollBy:-b.scrollBy))}});b.keyboardNav&&T.bind("keydown."+m,function(a){switch(a.which){case b.horizontal?37:38:w(a);f[b.keyboardNavByPages?"prevPage":"prev"]();break;case b.horizontal?39:40:w(a),f[b.keyboardNavByPages?"nextPage":"next"]()}});if(b.prev)O.on("click."+m,function(a){w(a);f.prev()});if(b.next)P.on("click."+m,function(a){w(a);f.next()});
if(b.prevPage)Y.on("click."+m,function(a){w(a);f.prevPage()});if(b.nextPage)Z.on("click."+m,function(a){w(a);f.nextPage()});j.on("click."+m,"*",function(a){1===a.which&&(a.target.parentNode===a.delegateTarget&&!aa)&&f.activate(this);aa=0});if(S[0])S.on("click."+m,"*",function(){f.activatePage(V.index(this))});if(b.dragContent)fa.on("mousedown."+m,function(a){if(1===a.which){w(a);var h=b.horizontal?a.clientX:a.clientY,k=d.cur,g=+new Date,m=c(a.target),A=0;j.addClass(b.draggedClass);T.on(ea,function(a){var c=
"mouseup"===a.type,l=(b.horizontal?a.clientX:a.clientY)-h;!A&&10<Math.abs(l)&&(aa=A=1,f.pause(1),m.on("click",function ka(a){w(a,1);aa=0;m.off("click",ka)}),p.trigger(s+":moveStart",[d,q,e,"slidee"]));A&&(w(a),c&&33<b.speed&&(l+=200*l/(+new Date-g)),u(Math.round(k-l),"slidee",c));c&&(aa=0,T.off(ea),j.removeClass(b.draggedClass),p.trigger(s+":moveEnd",[d,q,e,"slidee"]))})}});if(x&&b.dragHandle)x.on("mousedown."+m,function(a){if(1===a.which){w(a);var c=b.horizontal?a.clientX:a.clientY,h=t.cur,j=-t.cur,
k=t.max-t.cur;x.addClass(b.draggedClass);p.trigger(s+":moveStart",[d,q,e,"scrollbar"]);f.pause(1);T.on(ea,function(a){w(a);var f=I((b.horizontal?a.clientX:a.clientY)-c,j,k);u(Math.round((h+f)/t.max*(d.max-d.min))+d.min,"handle","mouseup"===a.type);"mouseup"===a.type&&(T.off(ea),x.removeClass(b.draggedClass),p.trigger(s+":moveEnd",[d,q,e,"scrollbar"]))})}});if(b.cycleBy){if(b.pauseOnHover)p.on("mouseenter."+m+" mouseleave."+m,function(a){if(!ha)f["mouseenter"===a.type?"pause":"cycle"](1)});f[b.startPaused?
"pause":"cycle"]()}}function da(c){return!isNaN(parseFloat(c))&&isFinite(c)}function I(c,b,g){return c<b?b:c>g?g:c}for(var s="sly",m=s,r=window.cancelAnimationFrame||window.cancelRequestAnimationFrame,ca=window.requestAnimationFrame,M,F=window,n=["moz","webkit","o"],ba=0,g=0,J=n.length;g<J&&!r;++g)ca=(r=F[n[g]+"CancelAnimationFrame"]||F[n[g]+"CancelRequestAnimationFrame"])&&F[n[g]+"RequestAnimationFrame"];r||(ca=function(c){var b=+new Date,g=Math.max(0,16-(b-ba));ba=b+g;return F.setTimeout(function(){c(b+
g)},g)},r=function(c){clearTimeout(c)});r=["transform","webkitTransform","msTransform"];n=document.createElement("div");g=0;for(J=r.length;g<J&&!M;g++)n.style[r[g]]!==K&&(M=r[g]);c.fn[s]=function(h,b){var g=!1,r;c.isPlainObject(h)||("string"===typeof h||!1===h?(g=!1===h?"destroy":h,Array.prototype.shift.call(arguments)):!0===h&&(b=h),h={});this.each(function(b,s){var n=c.data(s,m);!n&&!g?n=c.data(s,m,new fa(s,h)):n&&g&&n[g]&&n[g].apply(n,arguments);r||(r=n)});return!g&&b?r:this};c.fn[s].defaults=
{horizontal:0,itemNav:null,scrollBar:null,dragHandle:0,dynamicHandle:0,minHandleSize:50,syncFactor:0.5,pagesBar:null,pageBuilder:function(c){return"<li>"+(c+1)+"</li>"},prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5E3,pauseOnHover:0,startPaused:0,scrollBy:0,dragContent:0,elasticBounds:0,speed:0,easing:"swing",scrollSource:null,dragSource:null,startAt:0,keyboardNav:0,keyboardNavByPages:0,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}})(jQuery);
